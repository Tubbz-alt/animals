/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _app = __webpack_require__(1);
	
	var _app2 = _interopRequireDefault(_app);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	(function () {
	  var myApp = (0, _app2.default)('Pet Sounds');
	})();

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var _screen = __webpack_require__(2);
	
	var _screen2 = _interopRequireDefault(_screen);
	
	var _animals = __webpack_require__(3);
	
	var _animals2 = _interopRequireDefault(_animals);
	
	var _zoo = __webpack_require__(4);
	
	var _zoo2 = _interopRequireDefault(_zoo);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var screen = new _screen2.default(); // if ('serviceWorker' in navigator) {
	//   navigator.serviceWorker.register('/sw.js')
	//   .then(function(reg) {
	//     // registration worked
	//     console.log('Registration succeeded. Scope is ' + reg.scope);
	//   }).catch(function(error) {
	//     // registration failed
	//     console.log('Registration failed with ' + error);
	//   });
	// }
	
	var animals = _animals2.default;
	var zoo = new _zoo2.default(animals);
	
	function BuildApp(name) {
	  this.name = name;
	  this.started = false;
	  this.thumbPath = '/images/animals';
	
	  this.app = document.querySelector('.animal');
	  this.animalName = document.querySelector('.animal .name');
	  this.instructions = document.querySelector('.animal .instructions');
	  this.thumbBox = document.querySelector('.thumb-box');
	  this.btnStart = document.querySelector('.start-app');
	  this.btnShuffle = document.querySelector('.shuffle');
	  this.player = document.querySelector('.player');
	
	  var obj = this;
	  this.init(obj);
	}
	
	BuildApp.prototype = {
	  init: function init(obj) {
	
	    screen.init();
	
	    obj.eManage = obj.manageInitialEvents.bind(undefined, obj);
	
	    window.addEventListener('keyup', obj.eManage, false);
	
	    obj.btnStart.addEventListener('click', function () {
	      if (!obj.started) {
	        obj.start(obj);
	      }
	    }, false);
	  },
	
	  manageInitialEvents: function manageInitialEvents(obj) {
	    if (event.keyCode == 32) {
	      if (!obj.started) {
	        obj.start(obj);
	      }
	    }
	  },
	
	  start: function start(obj) {
	    screen.start();
	    obj.started = true;
	
	    window.removeEventListener('keyup', obj.eManage, false);
	
	    obj.btnShuffle.addEventListener('click', function () {
	      obj.shuffle(obj);
	    }, false);
	
	    window.addEventListener('keyup', function (event) {
	      if (event.keyCode == 32) {} else if (event.keyCode == 83) {
	        obj.shuffle(obj);
	      }
	    }, false);
	  },
	
	  shuffle: function shuffle(obj) {
	    var animations = ['shuffle', 'shuffle-alt'];
	    var randomAnimation = Math.floor(Math.random() * animations.length);
	
	    if (!obj.player.paused) {
	      obj.player.pause();
	      obj.player.currentTime = 0;
	    }
	
	    if (document.querySelector('.animal .instructions') != null) {
	      obj.thumbBox.removeChild(obj.instructions);
	    }
	
	    var thumb = document.querySelector('.animal-thumb');
	
	    if (thumb != null) {
	      obj.thumbBox.removeChild(thumb);
	    }
	
	    obj.thumbBox.classList.add(animations[randomAnimation]);
	    obj.animalName.classList.add('fade');
	
	    var animal = zoo.getRandomAnimal();
	
	    var time = setTimeout(function () {
	      obj.thumbBox.addEventListener('animationend', obj.createAnimal(obj, animal, animations, randomAnimation), false);
	    }, 300);
	  },
	
	  createAnimal: function createAnimal(obj, animal, animations, randomAnimation) {
	    var thumb = document.createElement('img');
	
	    if (obj.thumbBox.querySelector('.animal-thumb') != null) {
	      var oldThumb = obj.thumbBox.querySelector('.animal-thumb');
	      obj.thumbBox.removeChild(oldThumb);
	    }
	
	    thumb.setAttribute('src', obj.thumbPath + '/' + animal.image);
	    thumb.setAttribute('alt', animal.name);
	    thumb.setAttribute('class', 'animal-thumb');
	
	    obj.thumbBox.appendChild(thumb);
	    obj.animalName.innerHTML = animal.name;
	
	    obj.thumbBox.classList.remove(animations[randomAnimation]);
	    obj.animalName.classList.remove('fade');
	
	    delete obj.player.ontimeupdate;
	
	    obj.setSound(obj, animal);
	    obj.player.play();
	  },
	
	  setSound: function setSound(obj, animal) {
	    var timeInit = animal.sound.word.start;
	    var timeEnd = animal.sound.word.end;
	
	    obj.player.currentTime = timeInit;
	
	    obj.player.ontimeupdate = function () {
	      if (obj.player.currentTime > timeEnd) {
	        obj.player.pause();
	      }
	    };
	  }
	};
	
	function App(name) {
	  return new BuildApp(name);
	}
	
	module.exports = App;

/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var Screen = function () {
	  function Screen() {
	    _classCallCheck(this, Screen);
	
	    this.startScreen = 'intro';
	  }
	
	  _createClass(Screen, [{
	    key: 'init',
	    value: function init() {
	      this.setCurrentScreen(this.startScreen);
	      document.querySelector('.' + this.startScreen).classList.add('active');
	    }
	  }, {
	    key: 'start',
	    value: function start() {
	      this.hideScreen(this.getCurrentScreen());
	      this.setCurrentScreen('app');
	      this.showCurrentScreen();
	    }
	  }, {
	    key: 'setCurrentScreen',
	    value: function setCurrentScreen(screen) {
	      this.currentScreen = screen;
	    }
	  }, {
	    key: 'getCurrentScreen',
	    value: function getCurrentScreen() {
	      return this.currentScreen;
	    }
	  }, {
	    key: 'showCurrentScreen',
	    value: function showCurrentScreen() {
	      var screen = this.getCurrentScreen();
	      document.querySelector('.' + screen).classList.add('active');
	      this.setCurrentScreen(screen);
	    }
	  }, {
	    key: 'hideScreen',
	    value: function hideScreen(screen) {
	      var current = screen;
	      document.querySelector('.' + current).classList.remove('active');
	    }
	  }]);
	
	  return Screen;
	}();
	
	exports.default = Screen;

/***/ },
/* 3 */
/***/ function(module, exports) {

	'use strict';
	
	module.exports = [{
	  name: 'Cat',
	  image: 'cat.svg',
	  sound: {
	    word: {
	      start: 0,
	      end: 0.757
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Cow',
	  image: 'cow.svg',
	  sound: {
	    word: {
	      start: 1.674,
	      end: 2.451
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Dog',
	  image: 'dog.svg',
	  sound: {
	    word: {
	      start: 3.367,
	      end: 4.184
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Dolphin',
	  image: 'dolphin.svg',
	  sound: {
	    word: {
	      start: 5.181,
	      end: 6.117
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Dove',
	  image: 'dove.svg',
	  sound: {
	    word: {
	      start: 6.914,
	      end: 7.691
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Duck',
	  image: 'duck.svg',
	  sound: {
	    word: {
	      start: 8.548,
	      end: 9.345
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Elephant',
	  image: 'elephant.svg',
	  sound: {
	    word: {
	      start: 10.202,
	      end: 11.178
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Frog',
	  image: 'frog.svg',
	  sound: {
	    word: {
	      start: 12.015,
	      end: 12.692
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Hen',
	  image: 'hen.svg',
	  sound: {
	    word: {
	      start: 13.669,
	      end: 14.326
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Horse',
	  image: 'horse.svg',
	  sound: {
	    word: {
	      start: 15.362,
	      end: 16.279
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Lion',
	  image: 'lion.svg',
	  sound: {
	    word: {
	      start: 17.116,
	      end: 17.893
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Macaw',
	  image: 'macaw.svg',
	  sound: {
	    word: {
	      start: 18.909,
	      end: 19.846
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Monkey',
	  image: 'monkey.svg',
	  sound: {
	    word: {
	      start: 20.503,
	      end: 21.419
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Mouse',
	  image: 'mouse.svg',
	  sound: {
	    word: {
	      start: 22.256,
	      end: 23.033
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Owl',
	  image: 'owl.svg',
	  sound: {
	    word: {
	      start: 23.870,
	      end: 24.588
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Pig',
	  image: 'pig.svg',
	  sound: {
	    word: {
	      start: 25.539,
	      end: 26.244
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Snake',
	  image: 'snake.svg',
	  sound: {
	    word: {
	      start: 26.979,
	      end: 27.736
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}, {
	  name: 'Whale',
	  image: 'whale.svg',
	  sound: {
	    word: {
	      start: 28.632,
	      end: 29.450
	    },
	    sound: {
	      start: 0,
	      end: 0
	    }
	  }
	}];

/***/ },
/* 4 */
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var Zoo = function () {
	  function Zoo(animals) {
	    _classCallCheck(this, Zoo);
	
	    this.animals = animals || [];
	  }
	
	  _createClass(Zoo, [{
	    key: "getRandomAnimal",
	    value: function getRandomAnimal() {
	      var randomKey = Math.floor(Math.random() * this.animals.length);
	      return this.animals[randomKey];
	    }
	  }]);
	
	  return Zoo;
	}();
	
	exports.default = Zoo;

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZWNiZjg4MWE2OWNmYmU1ZDcwN2IiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FwcC1zcmMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZHVsZXMvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2R1bGVzL3NjcmVlbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9hbmltYWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2R1bGVzL3pvby5qcyJdLCJuYW1lcyI6WyJteUFwcCIsInNjcmVlbiIsImFuaW1hbHMiLCJ6b28iLCJCdWlsZEFwcCIsIm5hbWUiLCJzdGFydGVkIiwidGh1bWJQYXRoIiwiYXBwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYW5pbWFsTmFtZSIsImluc3RydWN0aW9ucyIsInRodW1iQm94IiwiYnRuU3RhcnQiLCJidG5TaHVmZmxlIiwicGxheWVyIiwib2JqIiwiaW5pdCIsInByb3RvdHlwZSIsImVNYW5hZ2UiLCJtYW5hZ2VJbml0aWFsRXZlbnRzIiwiYmluZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGFydCIsImV2ZW50Iiwia2V5Q29kZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaHVmZmxlIiwiYW5pbWF0aW9ucyIsInJhbmRvbUFuaW1hdGlvbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsInBhdXNlZCIsInBhdXNlIiwiY3VycmVudFRpbWUiLCJyZW1vdmVDaGlsZCIsInRodW1iIiwiY2xhc3NMaXN0IiwiYWRkIiwiYW5pbWFsIiwiZ2V0UmFuZG9tQW5pbWFsIiwidGltZSIsInNldFRpbWVvdXQiLCJjcmVhdGVBbmltYWwiLCJjcmVhdGVFbGVtZW50Iiwib2xkVGh1bWIiLCJzZXRBdHRyaWJ1dGUiLCJpbWFnZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwicmVtb3ZlIiwib250aW1ldXBkYXRlIiwic2V0U291bmQiLCJwbGF5IiwidGltZUluaXQiLCJzb3VuZCIsIndvcmQiLCJ0aW1lRW5kIiwiZW5kIiwiQXBwIiwibW9kdWxlIiwiZXhwb3J0cyIsIlNjcmVlbiIsInN0YXJ0U2NyZWVuIiwic2V0Q3VycmVudFNjcmVlbiIsImhpZGVTY3JlZW4iLCJnZXRDdXJyZW50U2NyZWVuIiwic2hvd0N1cnJlbnRTY3JlZW4iLCJjdXJyZW50U2NyZWVuIiwiY3VycmVudCIsIlpvbyIsInJhbmRvbUtleSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7OztBQ3RDQTs7Ozs7O0FBRUEsRUFBQyxZQUFNO0FBQ0wsT0FBSUEsUUFBUSxtQkFBSSxZQUFKLENBQVo7QUFDRCxFQUZELEk7Ozs7Ozs7O0FDU0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxLQUFJQyxTQUFTLHNCQUFiLEMsQ0FmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFPQSxLQUFNQywyQkFBTjtBQUNBLEtBQU1DLE1BQU0sa0JBQVFELE9BQVIsQ0FBWjs7QUFFQSxVQUFTRSxRQUFULENBQWtCQyxJQUFsQixFQUF3QjtBQUN0QixRQUFLQSxJQUFMLEdBQVlBLElBQVo7QUFDQSxRQUFLQyxPQUFMLEdBQWUsS0FBZjtBQUNBLFFBQUtDLFNBQUwsR0FBaUIsaUJBQWpCOztBQUVBLFFBQUtDLEdBQUwsR0FBV0MsU0FBU0MsYUFBVCxDQUF1QixTQUF2QixDQUFYO0FBQ0EsUUFBS0MsVUFBTCxHQUFrQkYsU0FBU0MsYUFBVCxDQUF1QixlQUF2QixDQUFsQjtBQUNBLFFBQUtFLFlBQUwsR0FBb0JILFNBQVNDLGFBQVQsQ0FBdUIsdUJBQXZCLENBQXBCO0FBQ0EsUUFBS0csUUFBTCxHQUFnQkosU0FBU0MsYUFBVCxDQUF1QixZQUF2QixDQUFoQjtBQUNBLFFBQUtJLFFBQUwsR0FBZ0JMLFNBQVNDLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBaEI7QUFDQSxRQUFLSyxVQUFMLEdBQWtCTixTQUFTQyxhQUFULENBQXVCLFVBQXZCLENBQWxCO0FBQ0EsUUFBS00sTUFBTCxHQUFjUCxTQUFTQyxhQUFULENBQXVCLFNBQXZCLENBQWQ7O0FBRUEsT0FBTU8sTUFBTSxJQUFaO0FBQ0EsUUFBS0MsSUFBTCxDQUFVRCxHQUFWO0FBQ0Q7O0FBRURiLFVBQVNlLFNBQVQsR0FBcUI7QUFDbkJELFNBQU0sY0FBQ0QsR0FBRCxFQUFTOztBQUViaEIsWUFBT2lCLElBQVA7O0FBRUFELFNBQUlHLE9BQUosR0FBY0gsSUFBSUksbUJBQUosQ0FBd0JDLElBQXhCLFlBQW1DTCxHQUFuQyxDQUFkOztBQUVBTSxZQUFPQyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQ1AsSUFBSUcsT0FBckMsRUFBOEMsS0FBOUM7O0FBRUFILFNBQUlILFFBQUosQ0FBYVUsZ0JBQWIsQ0FBOEIsT0FBOUIsRUFBdUMsWUFBTTtBQUMzQyxXQUFJLENBQUNQLElBQUlYLE9BQVQsRUFBa0I7QUFDaEJXLGFBQUlRLEtBQUosQ0FBVVIsR0FBVjtBQUNEO0FBQ0YsTUFKRCxFQUlHLEtBSkg7QUFLRCxJQWRrQjs7QUFnQm5CSSx3QkFBcUIsNkJBQUNKLEdBQUQsRUFBUztBQUM1QixTQUFJUyxNQUFNQyxPQUFOLElBQWlCLEVBQXJCLEVBQXlCO0FBQ3ZCLFdBQUksQ0FBQ1YsSUFBSVgsT0FBVCxFQUFrQjtBQUNoQlcsYUFBSVEsS0FBSixDQUFVUixHQUFWO0FBQ0Q7QUFDRjtBQUNGLElBdEJrQjs7QUF3Qm5CUSxVQUFPLGVBQUNSLEdBQUQsRUFBUztBQUNkaEIsWUFBT3dCLEtBQVA7QUFDQVIsU0FBSVgsT0FBSixHQUFjLElBQWQ7O0FBRUFpQixZQUFPSyxtQkFBUCxDQUEyQixPQUEzQixFQUFvQ1gsSUFBSUcsT0FBeEMsRUFBaUQsS0FBakQ7O0FBRUFILFNBQUlGLFVBQUosQ0FBZVMsZ0JBQWYsQ0FBZ0MsT0FBaEMsRUFBeUMsWUFBTTtBQUM3Q1AsV0FBSVksT0FBSixDQUFZWixHQUFaO0FBQ0QsTUFGRCxFQUVHLEtBRkg7O0FBSUFNLFlBQU9DLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFVBQVNFLEtBQVQsRUFBZ0I7QUFDL0MsV0FBSUEsTUFBTUMsT0FBTixJQUFpQixFQUFyQixFQUF5QixDQUV4QixDQUZELE1BRU8sSUFBSUQsTUFBTUMsT0FBTixJQUFpQixFQUFyQixFQUF5QjtBQUM5QlYsYUFBSVksT0FBSixDQUFZWixHQUFaO0FBQ0Q7QUFDRixNQU5ELEVBTUcsS0FOSDtBQU9ELElBekNrQjs7QUEyQ25CWSxZQUFTLGlCQUFDWixHQUFELEVBQVM7QUFDaEIsU0FBSWEsYUFBYSxDQUFDLFNBQUQsRUFBWSxhQUFaLENBQWpCO0FBQ0EsU0FBSUMsa0JBQWtCQyxLQUFLQyxLQUFMLENBQVdELEtBQUtFLE1BQUwsS0FBZ0JKLFdBQVdLLE1BQXRDLENBQXRCOztBQUVBLFNBQUksQ0FBQ2xCLElBQUlELE1BQUosQ0FBV29CLE1BQWhCLEVBQXdCO0FBQ3RCbkIsV0FBSUQsTUFBSixDQUFXcUIsS0FBWDtBQUNBcEIsV0FBSUQsTUFBSixDQUFXc0IsV0FBWCxHQUF5QixDQUF6QjtBQUNEOztBQUVELFNBQUk3QixTQUFTQyxhQUFULENBQXVCLHVCQUF2QixLQUFtRCxJQUF2RCxFQUE2RDtBQUMzRE8sV0FBSUosUUFBSixDQUFhMEIsV0FBYixDQUF5QnRCLElBQUlMLFlBQTdCO0FBQ0Q7O0FBRUQsU0FBSTRCLFFBQVEvQixTQUFTQyxhQUFULENBQXVCLGVBQXZCLENBQVo7O0FBRUEsU0FBSThCLFNBQVMsSUFBYixFQUFtQjtBQUNqQnZCLFdBQUlKLFFBQUosQ0FBYTBCLFdBQWIsQ0FBeUJDLEtBQXpCO0FBQ0Q7O0FBRUR2QixTQUFJSixRQUFKLENBQWE0QixTQUFiLENBQXVCQyxHQUF2QixDQUEyQlosV0FBV0MsZUFBWCxDQUEzQjtBQUNBZCxTQUFJTixVQUFKLENBQWU4QixTQUFmLENBQXlCQyxHQUF6QixDQUE2QixNQUE3Qjs7QUFFQSxTQUFJQyxTQUFTeEMsSUFBSXlDLGVBQUosRUFBYjs7QUFFQSxTQUFJQyxPQUFPQyxXQUFXLFlBQU07QUFDMUI3QixXQUFJSixRQUFKLENBQWFXLGdCQUFiLENBQThCLGNBQTlCLEVBQThDUCxJQUFJOEIsWUFBSixDQUFpQjlCLEdBQWpCLEVBQXNCMEIsTUFBdEIsRUFBOEJiLFVBQTlCLEVBQTBDQyxlQUExQyxDQUE5QyxFQUEwRyxLQUExRztBQUNELE1BRlUsRUFFUixHQUZRLENBQVg7QUFHRCxJQXRFa0I7O0FBd0VuQmdCLGlCQUFjLHNCQUFDOUIsR0FBRCxFQUFNMEIsTUFBTixFQUFjYixVQUFkLEVBQTBCQyxlQUExQixFQUE4QztBQUMxRCxTQUFJUyxRQUFRL0IsU0FBU3VDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBWjs7QUFFQSxTQUFJL0IsSUFBSUosUUFBSixDQUFhSCxhQUFiLENBQTJCLGVBQTNCLEtBQStDLElBQW5ELEVBQXlEO0FBQ3ZELFdBQUl1QyxXQUFXaEMsSUFBSUosUUFBSixDQUFhSCxhQUFiLENBQTJCLGVBQTNCLENBQWY7QUFDQU8sV0FBSUosUUFBSixDQUFhMEIsV0FBYixDQUF5QlUsUUFBekI7QUFDRDs7QUFFRFQsV0FBTVUsWUFBTixDQUFtQixLQUFuQixFQUEwQmpDLElBQUlWLFNBQUosR0FBZ0IsR0FBaEIsR0FBc0JvQyxPQUFPUSxLQUF2RDtBQUNBWCxXQUFNVSxZQUFOLENBQW1CLEtBQW5CLEVBQTBCUCxPQUFPdEMsSUFBakM7QUFDQW1DLFdBQU1VLFlBQU4sQ0FBbUIsT0FBbkIsRUFBNEIsY0FBNUI7O0FBRUFqQyxTQUFJSixRQUFKLENBQWF1QyxXQUFiLENBQXlCWixLQUF6QjtBQUNBdkIsU0FBSU4sVUFBSixDQUFlMEMsU0FBZixHQUEyQlYsT0FBT3RDLElBQWxDOztBQUVBWSxTQUFJSixRQUFKLENBQWE0QixTQUFiLENBQXVCYSxNQUF2QixDQUE4QnhCLFdBQVdDLGVBQVgsQ0FBOUI7QUFDQWQsU0FBSU4sVUFBSixDQUFlOEIsU0FBZixDQUF5QmEsTUFBekIsQ0FBZ0MsTUFBaEM7O0FBRUEsWUFBT3JDLElBQUlELE1BQUosQ0FBV3VDLFlBQWxCOztBQUVBdEMsU0FBSXVDLFFBQUosQ0FBYXZDLEdBQWIsRUFBa0IwQixNQUFsQjtBQUNBMUIsU0FBSUQsTUFBSixDQUFXeUMsSUFBWDtBQUNELElBOUZrQjs7QUFnR25CRCxhQUFVLGtCQUFDdkMsR0FBRCxFQUFNMEIsTUFBTixFQUFpQjtBQUN6QixTQUFJZSxXQUFXZixPQUFPZ0IsS0FBUCxDQUFhQyxJQUFiLENBQWtCbkMsS0FBakM7QUFDQSxTQUFJb0MsVUFBVWxCLE9BQU9nQixLQUFQLENBQWFDLElBQWIsQ0FBa0JFLEdBQWhDOztBQUVBN0MsU0FBSUQsTUFBSixDQUFXc0IsV0FBWCxHQUF5Qm9CLFFBQXpCOztBQUVBekMsU0FBSUQsTUFBSixDQUFXdUMsWUFBWCxHQUEwQixZQUFNO0FBQzlCLFdBQUl0QyxJQUFJRCxNQUFKLENBQVdzQixXQUFYLEdBQXlCdUIsT0FBN0IsRUFBc0M7QUFDcEM1QyxhQUFJRCxNQUFKLENBQVdxQixLQUFYO0FBQ0Q7QUFDRixNQUpEO0FBS0Q7QUEzR2tCLEVBQXJCOztBQThHQSxVQUFTMEIsR0FBVCxDQUFhMUQsSUFBYixFQUFtQjtBQUNqQixVQUFPLElBQUlELFFBQUosQ0FBYUMsSUFBYixDQUFQO0FBQ0Q7O0FBRUQyRCxRQUFPQyxPQUFQLEdBQWlCRixHQUFqQixDOzs7Ozs7Ozs7Ozs7Ozs7O0tDdEpxQkcsTTtBQUVuQixxQkFBYztBQUFBOztBQUNaLFVBQUtDLFdBQUwsR0FBbUIsT0FBbkI7QUFDRDs7Ozs0QkFFTTtBQUNMLFlBQUtDLGdCQUFMLENBQXNCLEtBQUtELFdBQTNCO0FBQ0ExRCxnQkFBU0MsYUFBVCxDQUF1QixNQUFNLEtBQUt5RCxXQUFsQyxFQUErQzFCLFNBQS9DLENBQXlEQyxHQUF6RCxDQUE2RCxRQUE3RDtBQUNEOzs7NkJBRU87QUFDTixZQUFLMkIsVUFBTCxDQUFnQixLQUFLQyxnQkFBTCxFQUFoQjtBQUNBLFlBQUtGLGdCQUFMLENBQXNCLEtBQXRCO0FBQ0EsWUFBS0csaUJBQUw7QUFDRDs7O3NDQUVnQnRFLE0sRUFBUTtBQUN2QixZQUFLdUUsYUFBTCxHQUFxQnZFLE1BQXJCO0FBQ0Q7Ozt3Q0FFa0I7QUFDakIsY0FBTyxLQUFLdUUsYUFBWjtBQUNEOzs7eUNBRW1CO0FBQ2xCLFdBQUl2RSxTQUFTLEtBQUtxRSxnQkFBTCxFQUFiO0FBQ0E3RCxnQkFBU0MsYUFBVCxDQUF1QixNQUFNVCxNQUE3QixFQUFxQ3dDLFNBQXJDLENBQStDQyxHQUEvQyxDQUFtRCxRQUFuRDtBQUNBLFlBQUswQixnQkFBTCxDQUFzQm5FLE1BQXRCO0FBQ0Q7OztnQ0FFVUEsTSxFQUFRO0FBQ2pCLFdBQUl3RSxVQUFVeEUsTUFBZDtBQUNBUSxnQkFBU0MsYUFBVCxDQUF1QixNQUFNK0QsT0FBN0IsRUFBc0NoQyxTQUF0QyxDQUFnRGEsTUFBaEQsQ0FBdUQsUUFBdkQ7QUFDRDs7Ozs7O21CQWxDa0JZLE07Ozs7Ozs7O0FDQXJCRixRQUFPQyxPQUFQLEdBQWlCLENBQ2Y7QUFDRTVELFNBQU0sS0FEUjtBQUVFOEMsVUFBTyxTQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxDQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUFEZSxFQWVmO0FBQ0V6RCxTQUFNLEtBRFI7QUFFRThDLFVBQU8sU0FGVDtBQUdFUSxVQUFPO0FBQ0xDLFdBQU07QUFDSm5DLGNBQU8sS0FESDtBQUVKcUMsWUFBSztBQUZELE1BREQ7QUFLTEgsWUFBTztBQUNMbEMsY0FBTyxDQURGO0FBRUxxQyxZQUFLO0FBRkE7QUFMRjtBQUhULEVBZmUsRUE2QmY7QUFDRXpELFNBQU0sS0FEUjtBQUVFOEMsVUFBTyxTQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxLQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUE3QmUsRUEyQ2Y7QUFDRXpELFNBQU0sU0FEUjtBQUVFOEMsVUFBTyxhQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxLQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUEzQ2UsRUF5RGY7QUFDRXpELFNBQU0sTUFEUjtBQUVFOEMsVUFBTyxVQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxLQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUF6RGUsRUF1RWY7QUFDRXpELFNBQU0sTUFEUjtBQUVFOEMsVUFBTyxVQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxLQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUF2RWUsRUFxRmY7QUFDRXpELFNBQU0sVUFEUjtBQUVFOEMsVUFBTyxjQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUFyRmUsRUFtR2Y7QUFDRXpELFNBQU0sTUFEUjtBQUVFOEMsVUFBTyxVQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUFuR2UsRUFpSGY7QUFDRXpELFNBQU0sS0FEUjtBQUVFOEMsVUFBTyxTQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUFqSGUsRUErSGY7QUFDRXpELFNBQU0sT0FEUjtBQUVFOEMsVUFBTyxXQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUEvSGUsRUE2SWY7QUFDRXpELFNBQU0sTUFEUjtBQUVFOEMsVUFBTyxVQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUE3SWUsRUEySmY7QUFDRXpELFNBQU0sT0FEUjtBQUVFOEMsVUFBTyxXQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUEzSmUsRUF5S2Y7QUFDRXpELFNBQU0sUUFEUjtBQUVFOEMsVUFBTyxZQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUF6S2UsRUF1TGY7QUFDRXpELFNBQU0sT0FEUjtBQUVFOEMsVUFBTyxXQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUF2TGUsRUFxTWY7QUFDRXpELFNBQU0sS0FEUjtBQUVFOEMsVUFBTyxTQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUFyTWUsRUFtTmY7QUFDRXpELFNBQU0sS0FEUjtBQUVFOEMsVUFBTyxTQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUFuTmUsRUFpT2Y7QUFDRXpELFNBQU0sT0FEUjtBQUVFOEMsVUFBTyxXQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUFqT2UsRUErT2Y7QUFDRXpELFNBQU0sT0FEUjtBQUVFOEMsVUFBTyxXQUZUO0FBR0VRLFVBQU87QUFDTEMsV0FBTTtBQUNKbkMsY0FBTyxNQURIO0FBRUpxQyxZQUFLO0FBRkQsTUFERDtBQUtMSCxZQUFPO0FBQ0xsQyxjQUFPLENBREY7QUFFTHFDLFlBQUs7QUFGQTtBQUxGO0FBSFQsRUEvT2UsQ0FBakIsQzs7Ozs7Ozs7Ozs7Ozs7OztLQ0FxQlksRztBQUNuQixnQkFBWXhFLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsVUFBS0EsT0FBTCxHQUFlQSxXQUFXLEVBQTFCO0FBQ0Q7Ozs7dUNBRWlCO0FBQ2hCLFdBQUl5RSxZQUFZM0MsS0FBS0MsS0FBTCxDQUFXRCxLQUFLRSxNQUFMLEtBQWdCLEtBQUtoQyxPQUFMLENBQWFpQyxNQUF4QyxDQUFoQjtBQUNBLGNBQU8sS0FBS2pDLE9BQUwsQ0FBYXlFLFNBQWIsQ0FBUDtBQUNEOzs7Ozs7bUJBUmtCRCxHIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBlY2JmODgxYTY5Y2ZiZTVkNzA3YiIsImltcG9ydCBBcHAgZnJvbSAnLi9tb2R1bGVzL2FwcCdcblxuKCgpID0+IHtcbiAgbGV0IG15QXBwID0gQXBwKCdQZXQgU291bmRzJylcbn0pKClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9hcHAtc3JjLmpzIiwiLy8gaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbi8vICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zdy5qcycpXG4vLyAgIC50aGVuKGZ1bmN0aW9uKHJlZykge1xuLy8gICAgIC8vIHJlZ2lzdHJhdGlvbiB3b3JrZWRcbi8vICAgICBjb25zb2xlLmxvZygnUmVnaXN0cmF0aW9uIHN1Y2NlZWRlZC4gU2NvcGUgaXMgJyArIHJlZy5zY29wZSk7XG4vLyAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4vLyAgICAgLy8gcmVnaXN0cmF0aW9uIGZhaWxlZFxuLy8gICAgIGNvbnNvbGUubG9nKCdSZWdpc3RyYXRpb24gZmFpbGVkIHdpdGggJyArIGVycm9yKTtcbi8vICAgfSk7XG4vLyB9XG5cbmltcG9ydCBTY3JlZW4gZnJvbSBcIi4vc2NyZWVuXCJcbmltcG9ydCBBbmltYWxzIGZyb20gXCIuL2FuaW1hbHNcIlxuaW1wb3J0IFpvbyBmcm9tIFwiLi96b29cIlxuXG5sZXQgc2NyZWVuID0gbmV3IFNjcmVlblxuY29uc3QgYW5pbWFscyA9IEFuaW1hbHNcbmNvbnN0IHpvbyA9IG5ldyBab28oYW5pbWFscylcblxuZnVuY3Rpb24gQnVpbGRBcHAobmFtZSkge1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZVxuICB0aGlzLnRodW1iUGF0aCA9ICcvaW1hZ2VzL2FuaW1hbHMnXG5cbiAgdGhpcy5hcHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYW5pbWFsJylcbiAgdGhpcy5hbmltYWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFuaW1hbCAubmFtZScpXG4gIHRoaXMuaW5zdHJ1Y3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFuaW1hbCAuaW5zdHJ1Y3Rpb25zJylcbiAgdGhpcy50aHVtYkJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aHVtYi1ib3gnKVxuICB0aGlzLmJ0blN0YXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXJ0LWFwcCcpXG4gIHRoaXMuYnRuU2h1ZmZsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaHVmZmxlJylcbiAgdGhpcy5wbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyJylcblxuICBjb25zdCBvYmogPSB0aGlzXG4gIHRoaXMuaW5pdChvYmopXG59XG5cbkJ1aWxkQXBwLnByb3RvdHlwZSA9IHtcbiAgaW5pdDogKG9iaikgPT4ge1xuXG4gICAgc2NyZWVuLmluaXQoKVxuXG4gICAgb2JqLmVNYW5hZ2UgPSBvYmoubWFuYWdlSW5pdGlhbEV2ZW50cy5iaW5kKHRoaXMsIG9iailcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9iai5lTWFuYWdlLCBmYWxzZSlcblxuICAgIG9iai5idG5TdGFydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghb2JqLnN0YXJ0ZWQpIHtcbiAgICAgICAgb2JqLnN0YXJ0KG9iailcbiAgICAgIH1cbiAgICB9LCBmYWxzZSlcbiAgfSxcblxuICBtYW5hZ2VJbml0aWFsRXZlbnRzOiAob2JqKSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzIpIHtcbiAgICAgIGlmICghb2JqLnN0YXJ0ZWQpIHtcbiAgICAgICAgb2JqLnN0YXJ0KG9iailcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgc3RhcnQ6IChvYmopID0+IHtcbiAgICBzY3JlZW4uc3RhcnQoKVxuICAgIG9iai5zdGFydGVkID0gdHJ1ZVxuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgb2JqLmVNYW5hZ2UsIGZhbHNlKVxuXG4gICAgb2JqLmJ0blNodWZmbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBvYmouc2h1ZmZsZShvYmopXG4gICAgfSwgZmFsc2UpXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzIpIHtcbiAgICAgICAgXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gODMpIHtcbiAgICAgICAgb2JqLnNodWZmbGUob2JqKVxuICAgICAgfVxuICAgIH0sIGZhbHNlKVxuICB9LFxuXG4gIHNodWZmbGU6IChvYmopID0+IHtcbiAgICBsZXQgYW5pbWF0aW9ucyA9IFsnc2h1ZmZsZScsICdzaHVmZmxlLWFsdCddXG4gICAgbGV0IHJhbmRvbUFuaW1hdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFuaW1hdGlvbnMubGVuZ3RoKVxuXG4gICAgaWYgKCFvYmoucGxheWVyLnBhdXNlZCkge1xuICAgICAgb2JqLnBsYXllci5wYXVzZSgpXG4gICAgICBvYmoucGxheWVyLmN1cnJlbnRUaW1lID0gMFxuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYW5pbWFsIC5pbnN0cnVjdGlvbnMnKSAhPSBudWxsKSB7XG4gICAgICBvYmoudGh1bWJCb3gucmVtb3ZlQ2hpbGQob2JqLmluc3RydWN0aW9ucylcbiAgICB9XG5cbiAgICBsZXQgdGh1bWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYW5pbWFsLXRodW1iJylcblxuICAgIGlmICh0aHVtYiAhPSBudWxsKSB7XG4gICAgICBvYmoudGh1bWJCb3gucmVtb3ZlQ2hpbGQodGh1bWIpXG4gICAgfVxuXG4gICAgb2JqLnRodW1iQm94LmNsYXNzTGlzdC5hZGQoYW5pbWF0aW9uc1tyYW5kb21BbmltYXRpb25dKVxuICAgIG9iai5hbmltYWxOYW1lLmNsYXNzTGlzdC5hZGQoJ2ZhZGUnKVxuXG4gICAgbGV0IGFuaW1hbCA9IHpvby5nZXRSYW5kb21BbmltYWwoKVxuXG4gICAgbGV0IHRpbWUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG9iai50aHVtYkJveC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBvYmouY3JlYXRlQW5pbWFsKG9iaiwgYW5pbWFsLCBhbmltYXRpb25zLCByYW5kb21BbmltYXRpb24pLCBmYWxzZSk7XG4gICAgfSwgMzAwKVxuICB9LFxuXG4gIGNyZWF0ZUFuaW1hbDogKG9iaiwgYW5pbWFsLCBhbmltYXRpb25zLCByYW5kb21BbmltYXRpb24pID0+IHtcbiAgICBsZXQgdGh1bWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuXG4gICAgaWYgKG9iai50aHVtYkJveC5xdWVyeVNlbGVjdG9yKCcuYW5pbWFsLXRodW1iJykgIT0gbnVsbCkge1xuICAgICAgbGV0IG9sZFRodW1iID0gb2JqLnRodW1iQm94LnF1ZXJ5U2VsZWN0b3IoJy5hbmltYWwtdGh1bWInKVxuICAgICAgb2JqLnRodW1iQm94LnJlbW92ZUNoaWxkKG9sZFRodW1iKVxuICAgIH1cbiAgICBcbiAgICB0aHVtYi5zZXRBdHRyaWJ1dGUoJ3NyYycsIG9iai50aHVtYlBhdGggKyAnLycgKyBhbmltYWwuaW1hZ2UpXG4gICAgdGh1bWIuc2V0QXR0cmlidXRlKCdhbHQnLCBhbmltYWwubmFtZSlcbiAgICB0aHVtYi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2FuaW1hbC10aHVtYicpXG5cbiAgICBvYmoudGh1bWJCb3guYXBwZW5kQ2hpbGQodGh1bWIpXG4gICAgb2JqLmFuaW1hbE5hbWUuaW5uZXJIVE1MID0gYW5pbWFsLm5hbWVcblxuICAgIG9iai50aHVtYkJveC5jbGFzc0xpc3QucmVtb3ZlKGFuaW1hdGlvbnNbcmFuZG9tQW5pbWF0aW9uXSlcbiAgICBvYmouYW5pbWFsTmFtZS5jbGFzc0xpc3QucmVtb3ZlKCdmYWRlJylcblxuICAgIGRlbGV0ZSBvYmoucGxheWVyLm9udGltZXVwZGF0ZVxuXG4gICAgb2JqLnNldFNvdW5kKG9iaiwgYW5pbWFsKVxuICAgIG9iai5wbGF5ZXIucGxheSgpXG4gIH0sXG5cbiAgc2V0U291bmQ6IChvYmosIGFuaW1hbCkgPT4ge1xuICAgIGxldCB0aW1lSW5pdCA9IGFuaW1hbC5zb3VuZC53b3JkLnN0YXJ0XG4gICAgbGV0IHRpbWVFbmQgPSBhbmltYWwuc291bmQud29yZC5lbmRcblxuICAgIG9iai5wbGF5ZXIuY3VycmVudFRpbWUgPSB0aW1lSW5pdFxuXG4gICAgb2JqLnBsYXllci5vbnRpbWV1cGRhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAob2JqLnBsYXllci5jdXJyZW50VGltZSA+IHRpbWVFbmQpIHtcbiAgICAgICAgb2JqLnBsYXllci5wYXVzZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIEFwcChuYW1lKSB7XG4gIHJldHVybiBuZXcgQnVpbGRBcHAobmFtZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQXBwO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL21vZHVsZXMvYXBwLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NyZWVuIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXJ0U2NyZWVuID0gJ2ludHJvJ1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRTY3JlZW4odGhpcy5zdGFydFNjcmVlbilcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc3RhcnRTY3JlZW4pLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLmhpZGVTY3JlZW4odGhpcy5nZXRDdXJyZW50U2NyZWVuKCkpXG4gICAgdGhpcy5zZXRDdXJyZW50U2NyZWVuKCdhcHAnKVxuICAgIHRoaXMuc2hvd0N1cnJlbnRTY3JlZW4oKVxuICB9XG5cbiAgc2V0Q3VycmVudFNjcmVlbihzY3JlZW4pIHtcbiAgICB0aGlzLmN1cnJlbnRTY3JlZW4gPSBzY3JlZW5cbiAgfVxuXG4gIGdldEN1cnJlbnRTY3JlZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNjcmVlblxuICB9XG5cbiAgc2hvd0N1cnJlbnRTY3JlZW4oKSB7XG4gICAgbGV0IHNjcmVlbiA9IHRoaXMuZ2V0Q3VycmVudFNjcmVlbigpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBzY3JlZW4pLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgdGhpcy5zZXRDdXJyZW50U2NyZWVuKHNjcmVlbilcbiAgfVxuXG4gIGhpZGVTY3JlZW4oc2NyZWVuKSB7XG4gICAgbGV0IGN1cnJlbnQgPSBzY3JlZW5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGN1cnJlbnQpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL21vZHVsZXMvc2NyZWVuLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBbXG4gIHtcbiAgICBuYW1lOiAnQ2F0JyxcbiAgICBpbWFnZTogJ2NhdC5zdmcnLFxuICAgIHNvdW5kOiB7XG4gICAgICB3b3JkOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDAuNzU3XG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdDb3cnLFxuICAgIGltYWdlOiAnY293LnN2ZycsXG4gICAgc291bmQ6IHtcbiAgICAgIHdvcmQ6IHtcbiAgICAgICAgc3RhcnQ6IDEuNjc0LFxuICAgICAgICBlbmQ6IDIuNDUxXG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdEb2cnLFxuICAgIGltYWdlOiAnZG9nLnN2ZycsXG4gICAgc291bmQ6IHtcbiAgICAgIHdvcmQ6IHtcbiAgICAgICAgc3RhcnQ6IDMuMzY3LFxuICAgICAgICBlbmQ6IDQuMTg0XG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdEb2xwaGluJyxcbiAgICBpbWFnZTogJ2RvbHBoaW4uc3ZnJyxcbiAgICBzb3VuZDoge1xuICAgICAgd29yZDoge1xuICAgICAgICBzdGFydDogNS4xODEsXG4gICAgICAgIGVuZDogNi4xMTdcbiAgICAgIH0sXG4gICAgICBzb3VuZDoge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiAwXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgbmFtZTogJ0RvdmUnLFxuICAgIGltYWdlOiAnZG92ZS5zdmcnLFxuICAgIHNvdW5kOiB7XG4gICAgICB3b3JkOiB7XG4gICAgICAgIHN0YXJ0OiA2LjkxNCxcbiAgICAgICAgZW5kOiA3LjY5MVxuICAgICAgfSxcbiAgICAgIHNvdW5kOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnRHVjaycsXG4gICAgaW1hZ2U6ICdkdWNrLnN2ZycsXG4gICAgc291bmQ6IHtcbiAgICAgIHdvcmQ6IHtcbiAgICAgICAgc3RhcnQ6IDguNTQ4LFxuICAgICAgICBlbmQ6IDkuMzQ1XG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdFbGVwaGFudCcsXG4gICAgaW1hZ2U6ICdlbGVwaGFudC5zdmcnLFxuICAgIHNvdW5kOiB7XG4gICAgICB3b3JkOiB7XG4gICAgICAgIHN0YXJ0OiAxMC4yMDIsXG4gICAgICAgIGVuZDogMTEuMTc4XG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdGcm9nJyxcbiAgICBpbWFnZTogJ2Zyb2cuc3ZnJyxcbiAgICBzb3VuZDoge1xuICAgICAgd29yZDoge1xuICAgICAgICBzdGFydDogMTIuMDE1LFxuICAgICAgICBlbmQ6IDEyLjY5MlxuICAgICAgfSxcbiAgICAgIHNvdW5kOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnSGVuJyxcbiAgICBpbWFnZTogJ2hlbi5zdmcnLFxuICAgIHNvdW5kOiB7XG4gICAgICB3b3JkOiB7XG4gICAgICAgIHN0YXJ0OiAxMy42NjksXG4gICAgICAgIGVuZDogMTQuMzI2XG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdIb3JzZScsXG4gICAgaW1hZ2U6ICdob3JzZS5zdmcnLFxuICAgIHNvdW5kOiB7XG4gICAgICB3b3JkOiB7XG4gICAgICAgIHN0YXJ0OiAxNS4zNjIsXG4gICAgICAgIGVuZDogMTYuMjc5XG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdMaW9uJyxcbiAgICBpbWFnZTogJ2xpb24uc3ZnJyxcbiAgICBzb3VuZDoge1xuICAgICAgd29yZDoge1xuICAgICAgICBzdGFydDogMTcuMTE2LFxuICAgICAgICBlbmQ6IDE3Ljg5M1xuICAgICAgfSxcbiAgICAgIHNvdW5kOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTWFjYXcnLFxuICAgIGltYWdlOiAnbWFjYXcuc3ZnJyxcbiAgICBzb3VuZDoge1xuICAgICAgd29yZDoge1xuICAgICAgICBzdGFydDogMTguOTA5LFxuICAgICAgICBlbmQ6IDE5Ljg0NlxuICAgICAgfSxcbiAgICAgIHNvdW5kOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTW9ua2V5JyxcbiAgICBpbWFnZTogJ21vbmtleS5zdmcnLFxuICAgIHNvdW5kOiB7XG4gICAgICB3b3JkOiB7XG4gICAgICAgIHN0YXJ0OiAyMC41MDMsXG4gICAgICAgIGVuZDogMjEuNDE5XG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdNb3VzZScsXG4gICAgaW1hZ2U6ICdtb3VzZS5zdmcnLFxuICAgIHNvdW5kOiB7XG4gICAgICB3b3JkOiB7XG4gICAgICAgIHN0YXJ0OiAyMi4yNTYsXG4gICAgICAgIGVuZDogMjMuMDMzXG4gICAgICB9LFxuICAgICAgc291bmQ6IHtcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdPd2wnLFxuICAgIGltYWdlOiAnb3dsLnN2ZycsXG4gICAgc291bmQ6IHtcbiAgICAgIHdvcmQ6IHtcbiAgICAgICAgc3RhcnQ6IDIzLjg3MCxcbiAgICAgICAgZW5kOiAyNC41ODhcbiAgICAgIH0sXG4gICAgICBzb3VuZDoge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiAwXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgbmFtZTogJ1BpZycsXG4gICAgaW1hZ2U6ICdwaWcuc3ZnJyxcbiAgICBzb3VuZDoge1xuICAgICAgd29yZDoge1xuICAgICAgICBzdGFydDogMjUuNTM5LFxuICAgICAgICBlbmQ6IDI2LjI0NFxuICAgICAgfSxcbiAgICAgIHNvdW5kOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnU25ha2UnLFxuICAgIGltYWdlOiAnc25ha2Uuc3ZnJyxcbiAgICBzb3VuZDoge1xuICAgICAgd29yZDoge1xuICAgICAgICBzdGFydDogMjYuOTc5LFxuICAgICAgICBlbmQ6IDI3LjczNlxuICAgICAgfSxcbiAgICAgIHNvdW5kOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnV2hhbGUnLFxuICAgIGltYWdlOiAnd2hhbGUuc3ZnJyxcbiAgICBzb3VuZDoge1xuICAgICAgd29yZDoge1xuICAgICAgICBzdGFydDogMjguNjMyLFxuICAgICAgICBlbmQ6IDI5LjQ1MFxuICAgICAgfSxcbiAgICAgIHNvdW5kOiB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH1cbiAgICB9XG4gIH1cbl1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9tb2R1bGVzL2FuaW1hbHMuanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBab28ge1xuICBjb25zdHJ1Y3RvcihhbmltYWxzKSB7XG4gICAgdGhpcy5hbmltYWxzID0gYW5pbWFscyB8fCBbXVxuICB9XG5cbiAgZ2V0UmFuZG9tQW5pbWFsKCkge1xuICAgIGxldCByYW5kb21LZXkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmFuaW1hbHMubGVuZ3RoKVxuICAgIHJldHVybiB0aGlzLmFuaW1hbHNbcmFuZG9tS2V5XVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvbW9kdWxlcy96b28uanMiXSwic291cmNlUm9vdCI6IiJ9